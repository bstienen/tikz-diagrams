\documentclass[tikz]{standalone}
\standaloneconfig{border=0.3cm}
\usepackage[utf8]{inputenc}

\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}
\tikzstyle{blok} = [
  rectangle, minimum width=1.0cm, minimum height=0.75cm, thin, draw=black,
]

\begin{document}

\tikzset{arrow/.style={-stealth, thin, draw=black}}
\begin{tikzpicture}

% Putting z^A through network
\node        (za) at (0.7, 2.0) {$z^A_i$};
\node[blok]  (nn) at (2.2, 2.0) {NN};
\node        (yk) at (4.0, 4.0) {Knots $y_k$};
\node        (bw) at (4.0, 0.0) {Bin widths $w_b$};
\draw[arrow] (za) -- (nn);
\draw[arrow] (nn) -- (yk);
\draw[arrow] (nn) -- (bw);

% Derivative of g plot
\node        (gprime) at (5.7, 5.1) {$g'$};
\draw[arrow, thick]      (6.0, 0.3) -- ( 6.0, 5.0);
\draw[arrow, thick]      (5.8, 0.5) -- (10.5, 0.5);
% Bins
\draw[dashed, draw=gray] (7.0, 0.5) -- (7.0, 5.0);
\draw[dashed, draw=gray] (7.5, 0.5) -- (7.5, 5.0);
\draw[dashed, draw=gray] (8.2, 0.5) -- (8.2, 5.0);
\draw[dashed, draw=gray] (8.7, 0.5) -- (8.7, 5.0);
\draw[dashed, draw=gray] (10.0, 0.5) -- (10.0, 5.0);
\node                 at (10.0, 0.3) {\footnotesize{1.0}};
% Graph
\draw[semithick, draw=red] (6.0, 0.8) node [circle, fill=black, inner sep=2pt] {}
                        -- (7.0, 1.2) node [circle, fill=black, inner sep=2pt] {}
                        -- (7.5, 3.2) node [circle, fill=black, inner sep=2pt] {}
                        -- (8.2, 2.9) node [circle, fill=black, inner sep=2pt] {}
                        -- (8.7, 1.0) node [circle, fill=black, inner sep=2pt] {}
                        -- (10.0, 1.5) node [circle, fill=black, inner sep=2pt] {};

% Knot arrows
\draw[arrow] (yk) -- ( 5.5, 4.0) -- ( 5.5, 0.8) -- (5.8, 0.8);
\draw[arrow] (yk) -- ( 7.0, 4.0) -- ( 7.0, 1.5);
\draw[arrow] (yk) -- ( 7.5, 4.0) -- ( 7.5, 3.4);
\draw[arrow] (yk) -- ( 8.2, 4.0) -- ( 8.2, 3.1);
\draw[arrow] (yk) -- ( 8.7, 4.0) -- ( 8.7, 1.3);
\draw[arrow] (yk) -- (10.0, 4.0) -- (10.0, 1.7);

% Bin width arrows
\draw[arrow] (bw) -- (6.5,  0.0) -- (6.5,  0.4);
\draw[arrow] (bw) -- (7.25, 0.0) -- (7.25, 0.4);
\draw[arrow] (bw) -- (7.85, 0.0) -- (7.85, 0.4);
\draw[arrow] (bw) -- (8.45, 0.0) -- (8.45, 0.4);
\draw[arrow] (bw) -- (9.35, 0.0) -- (9.35, 0.4);


\end{tikzpicture}

\end{document}
